# =============================================================================
# ProcGenie S2P Orchestration Platform - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#
#   cp .env.example .env
#
# IMPORTANT: Never commit the .env file to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# General Application
# -----------------------------------------------------------------------------

# Application environment: development | test | staging | production
NODE_ENV=development

# Project name (used as prefix for Docker containers, databases, etc.)
PROJECT_NAME=procgenie

# Application display name
APP_NAME=ProcGenie

# Application version
APP_VERSION=1.0.0

# Logging level: debug | info | warn | error
LOG_LEVEL=debug

# Log format: json | pretty
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Web Frontend (Next.js) - apps/web
# -----------------------------------------------------------------------------

# Public-facing URL for the web application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Display name shown in the UI
NEXT_PUBLIC_APP_NAME=ProcGenie

# API base URL the frontend uses to call the backend
NEXT_PUBLIC_API_URL=http://localhost:4000/api/v1

# WebSocket URL for real-time notifications
NEXT_PUBLIC_WS_URL=ws://localhost:4000

# NextAuth.js configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=local-dev-secret-change-in-production-min-32-chars

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# -----------------------------------------------------------------------------
# Backend API (NestJS) - apps/api
# -----------------------------------------------------------------------------

# Port the API server listens on
API_PORT=4000

# API host binding
API_HOST=0.0.0.0

# API URL prefix (all routes will be under /api/v1/*)
API_PREFIX=api/v1

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------

# Connection settings for local Docker PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=procgenie
DB_PASSWORD=procgenie_dev_password
DB_DATABASE=procgenie_dev

# SSL connection (true for Azure, false for local Docker)
DB_SSL=false

# Enable SQL query logging
DB_LOGGING=true

# Auto-sync schema from entities (NEVER enable in production)
DB_SYNCHRONIZE=false

# Run migrations on startup
DB_RUN_MIGRATIONS=true

# Maximum number of connections in the pool
DB_MAX_CONNECTIONS=20

# Full connection URL (alternative to individual params)
# DATABASE_URL=postgresql://procgenie:procgenie_dev_password@localhost:5432/procgenie_dev

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------

# Connection settings for local Docker Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Default TTL for cached items (seconds)
REDIS_TTL=3600

# Full connection URL (alternative to individual params)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------

# JWT signing secret (min 32 characters, CHANGE IN PRODUCTION)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# JWT access token expiration
JWT_EXPIRES_IN=1h

# JWT refresh token signing secret (CHANGE IN PRODUCTION)
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production

# JWT refresh token expiration
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# AI / LLM Integration (Azure OpenAI)
# -----------------------------------------------------------------------------

# Azure OpenAI API key
AZURE_OPENAI_API_KEY=

# Azure OpenAI endpoint URL
AZURE_OPENAI_ENDPOINT=https://westus.api.cognitive.microsoft.com/

# Azure OpenAI deployment name
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o

# Azure OpenAI API version
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# Maximum tokens per AI request
AZURE_OPENAI_MAX_TOKENS=4096

# AI temperature for generation (0.0 - 1.0)
AI_TEMPERATURE=0.3

# -----------------------------------------------------------------------------
# SSO / Identity Provider
# -----------------------------------------------------------------------------

# Azure AD (OAuth 2.0 / OIDC)
AZURE_AD_TENANT_ID=
AZURE_AD_CLIENT_ID=
AZURE_AD_CLIENT_SECRET=
AZURE_AD_REDIRECT_URI=http://localhost:3000/api/v1/auth/azure/callback

# SAML 2.0
SAML_ENTRY_POINT=
SAML_ISSUER=procgenie
SAML_CALLBACK_URL=http://localhost:4000/api/auth/saml/callback
SAML_CERT=

# SCIM 2.0 Provisioning
SCIM_BEARER_TOKEN=

# -----------------------------------------------------------------------------
# Azure Cloud (Production Deployment)
# -----------------------------------------------------------------------------

# Azure subscription and resource group
AZURE_SUBSCRIPTION_ID=
AZURE_RESOURCE_GROUP=rg-procgenie-dev
AZURE_LOCATION=eastus

# Azure Container Registry
AZURE_ACR_NAME=acrprocgeniedev
AZURE_ACR_LOGIN_SERVER=acrprocgeniedev.azurecr.io

# Azure Container Apps environment
AZURE_CONTAINER_APP_ENV=cae-procgenie-dev

# Azure Key Vault
AZURE_KEY_VAULT_NAME=kv-procgenie-dev

# Azure Database for PostgreSQL
AZURE_PG_SERVER=psql-procgenie-dev
AZURE_PG_ADMIN_USER=pgadmin
AZURE_PG_ADMIN_PASSWORD=

# Azure Cache for Redis
AZURE_REDIS_NAME=redis-procgenie-dev

# Azure Front Door
AZURE_FRONTDOOR_NAME=fd-procgenie-dev

# Azure Blob Storage (document uploads)
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_STORAGE_CONTAINER=procgenie-documents

# PostgreSQL admin password for Azure deployment (used by deploy.sh)
POSTGRES_ADMIN_PASSWORD=

# -----------------------------------------------------------------------------
# Background Jobs (Bull Queue)
# -----------------------------------------------------------------------------

# Prefix for all Bull queues in Redis
BULL_QUEUE_PREFIX=procgenie

# Default retry attempts for failed jobs
BULL_QUEUE_DEFAULT_ATTEMPTS=3

# Default backoff delay (ms) between retries
BULL_QUEUE_DEFAULT_BACKOFF=5000

# -----------------------------------------------------------------------------
# Email (SMTP)
# -----------------------------------------------------------------------------

SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=
SMTP_FROM=noreply@procgenie.io

# -----------------------------------------------------------------------------
# External Integrations
# -----------------------------------------------------------------------------

# Slack
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_ID=
SLACK_WEBHOOK_URL=

# Microsoft Teams
TEAMS_APP_ID=
TEAMS_APP_SECRET=

# DocuSign
DOCUSIGN_INTEGRATION_KEY=
DOCUSIGN_SECRET_KEY=
DOCUSIGN_ACCOUNT_ID=

# NetSuite
NETSUITE_ACCOUNT_ID=
NETSUITE_CONSUMER_KEY=
NETSUITE_CONSUMER_SECRET=
NETSUITE_TOKEN_ID=
NETSUITE_TOKEN_SECRET=

# SAP
SAP_BASE_URL=
SAP_CLIENT_ID=
SAP_CLIENT_SECRET=

# Oracle
ORACLE_BASE_URL=
ORACLE_API_KEY=

# -----------------------------------------------------------------------------
# WebSocket
# -----------------------------------------------------------------------------

# WebSocket namespace for notifications
WS_NAMESPACE=/notifications

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Time window for rate limiting (seconds)
THROTTLE_TTL=60

# Maximum requests per time window
THROTTLE_LIMIT=100

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable AI-powered analysis features
FEATURE_AI_ANALYSIS=true

# Enable AI agent workflows
FEATURE_AI_AGENTS=true

# Enable ESG (Environmental, Social, Governance) scoring
FEATURE_ESG_SCORING=true

# Enable sustainability tracking
FEATURE_SUSTAINABILITY=true

# Enable predictive analytics dashboard
FEATURE_PREDICTIVE_ANALYTICS=true

# Enable advanced analytics
FEATURE_ADVANCED_ANALYTICS=true

# Enable automatic approval workflows (use with caution)
FEATURE_AUTO_APPROVAL=false

# Enable MCP (Model Context Protocol) integration
FEATURE_MCP_INTEGRATION=false

# -----------------------------------------------------------------------------
# Multi-tenancy
# -----------------------------------------------------------------------------

# Default tenant ID for single-tenant deployments
DEFAULT_TENANT_ID=default

# -----------------------------------------------------------------------------
# File Storage
# -----------------------------------------------------------------------------

# Storage type: local | azure
STORAGE_TYPE=local

# Local file storage path (development only)
STORAGE_LOCAL_PATH=./uploads
